<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module lobby</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>lobby</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/home/omar/autocorrect/server/lobby.py">/home/omar/autocorrect/server/lobby.py</a></font></td></tr></table>
    <p></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="os.html">os</a><br>
</td><td width="25%" valign=top><a href="random.html">random</a><br>
</td><td width="25%" valign=top><a href="requests.html">requests</a><br>
</td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-index"><strong>index</strong></a>()</dt></dl>
 <dl><dt><a name="-on_create"><strong>on_create</strong></a>(data)</dt><dd><tt>This&nbsp;is&nbsp;the&nbsp;event&nbsp;the&nbsp;server&nbsp;is&nbsp;listening&nbsp;to&nbsp;for&nbsp;creating&nbsp;game&nbsp;rooms.<br>
The&nbsp;lobby&nbsp;manager&nbsp;will&nbsp;generate&nbsp;a&nbsp;random&nbsp;lobby&nbsp;name&nbsp;for&nbsp;the&nbsp;player<br>
requesting&nbsp;the&nbsp;creation.&nbsp;<br>
The&nbsp;lobby&nbsp;manager&nbsp;will&nbsp;save&nbsp;the&nbsp;instance&nbsp;of&nbsp;the&nbsp;lobby&nbsp;in&nbsp;the&nbsp;game_rooms&nbsp;data&nbsp;structure<br>
@param&nbsp;data&nbsp;-&nbsp;a&nbsp;dict.&nbsp;in&nbsp;the&nbsp;form<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;key&gt;&nbsp;String(Unique)&nbsp;username:&nbsp;&lt;value&gt;&nbsp;String&nbsp;username,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
@return&nbsp;-&nbsp;emits&nbsp;an&nbsp;event&nbsp;back&nbsp;to&nbsp;the&nbsp;front-end&nbsp;client,&nbsp;the&nbsp;front-end&nbsp;client&nbsp;should<br>
be&nbsp;expecting&nbsp;'lobby_created'&nbsp;with&nbsp;the&nbsp;details&nbsp;of&nbsp;the&nbsp;lobby&nbsp;sent&nbsp;through&nbsp;the&nbsp;socket</tt></dd></dl>
 <dl><dt><a name="-on_destroy"><strong>on_destroy</strong></a>(data)</dt><dd><tt>This&nbsp;is&nbsp;the&nbsp;event&nbsp;the&nbsp;server&nbsp;is&nbsp;listening&nbsp;to&nbsp;for&nbsp;destroying&nbsp;game&nbsp;rooms.<br>
The&nbsp;lobby&nbsp;manager&nbsp;will&nbsp;attempt&nbsp;to&nbsp;destory&nbsp;the&nbsp;lobby&nbsp;instance&nbsp;if&nbsp;the&nbsp;player&nbsp;requesting&nbsp;is&nbsp;the&nbsp;host<br>
@param&nbsp;data&nbsp;-&nbsp;a&nbsp;dict&nbsp;in&nbsp;the&nbsp;form&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;key&gt;&nbsp;String(Unique)&nbsp;username:&nbsp;&lt;value&gt;&nbsp;String&nbsp;username,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;key&gt;&nbsp;String(Unique)&nbsp;room:&nbsp;&lt;value&gt;&nbsp;String&nbsp;room_to_destroy<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;<br>
@return&nbsp;-&nbsp;emits&nbsp;an&nbsp;event&nbsp;back&nbsp;to&nbsp;the&nbsp;front-end&nbsp;client,&nbsp;the&nbsp;front-end&nbsp;client&nbsp;should<br>
be&nbsp;expecting&nbsp;'lobby_destroyed'&nbsp;if&nbsp;successful</tt></dd></dl>
 <dl><dt><a name="-on_join"><strong>on_join</strong></a>(data)</dt><dd><tt>This&nbsp;is&nbsp;the&nbsp;event&nbsp;the&nbsp;server&nbsp;is&nbsp;listening&nbsp;to&nbsp;for&nbsp;joining&nbsp;game&nbsp;rooms.<br>
The&nbsp;lobby&nbsp;manager&nbsp;will&nbsp;attempt&nbsp;to&nbsp;join&nbsp;the&nbsp;game&nbsp;room&nbsp;if&nbsp;it&nbsp;exists&nbsp;and&nbsp;is&nbsp;not&nbsp;full<br>
The&nbsp;lobby&nbsp;manager&nbsp;will&nbsp;update&nbsp;the&nbsp;instance&nbsp;of&nbsp;the&nbsp;lobby&nbsp;object&nbsp;in&nbsp;memory<br>
@param&nbsp;data&nbsp;-&nbsp;a&nbsp;dict&nbsp;in&nbsp;the&nbsp;form&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;key&gt;&nbsp;String(Unique)&nbsp;username:&nbsp;&lt;value&gt;&nbsp;String&nbsp;username,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;key&gt;&nbsp;String(Unique)&nbsp;room:&nbsp;&lt;value&gt;&nbsp;String&nbsp;room_to_join<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
@return&nbsp;-&nbsp;emits&nbsp;an&nbsp;event&nbsp;back&nbsp;to&nbsp;the&nbsp;front-end&nbsp;client,&nbsp;the&nbsp;front-end&nbsp;client&nbsp;should<br>
be&nbsp;expecting&nbsp;'player_suc_join'&nbsp;if&nbsp;successful.&nbsp;Also&nbsp;emits&nbsp;'game_ready'&nbsp;if&nbsp;all&nbsp;4&nbsp;players&nbsp;in.</tt></dd></dl>
 <dl><dt><a name="-on_new_round"><strong>on_new_round</strong></a>(data)</dt><dd><tt>This&nbsp;is&nbsp;the&nbsp;event&nbsp;the&nbsp;server&nbsp;listens&nbsp;to&nbsp;for&nbsp;starting&nbsp;a&nbsp;new&nbsp;round,&nbsp;once&nbsp;client&nbsp;informs&nbsp;it&nbsp;that&nbsp;it&nbsp;has&nbsp;properly&nbsp;displayed&nbsp;the&nbsp;data.<br>
It&nbsp;updates&nbsp;the&nbsp;internals&nbsp;of&nbsp;the&nbsp;game&nbsp;state&nbsp;and&nbsp;then&nbsp;messages&nbsp;the&nbsp;front&nbsp;end&nbsp;the&nbsp;new&nbsp;prompter&nbsp;and&nbsp;responders,&nbsp;so&nbsp;that&nbsp;it&nbsp;can<br>
display&nbsp;the&nbsp;right&nbsp;page&nbsp;to&nbsp;them.<br>
@param&nbsp;data&nbsp;-&nbsp;Dict&nbsp;with&nbsp;a&nbsp;'room'&nbsp;key&nbsp;specifying&nbsp;room&nbsp;name&nbsp;string.<br>
@return&nbsp;-&nbsp;Emits&nbsp;a&nbsp;message&nbsp;with&nbsp;the&nbsp;new&nbsp;prompter&nbsp;string&nbsp;and&nbsp;new&nbsp;responders&nbsp;list&nbsp;of&nbsp;strings,&nbsp;as&nbsp;a&nbsp;dict&nbsp;with&nbsp;keywords&nbsp;'prompter'&nbsp;and&nbsp;'respondents',<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;if&nbsp;game&nbsp;still&nbsp;going.&nbsp;If&nbsp;game&nbsp;just&nbsp;ended,&nbsp;then&nbsp;emits&nbsp;game&nbsp;over&nbsp;with&nbsp;a&nbsp;dict&nbsp;of&nbsp;player&nbsp;name&nbsp;to&nbsp;score&nbsp;to&nbsp;all&nbsp;players&nbsp;in&nbsp;that&nbsp;lobby.</tt></dd></dl>
 <dl><dt><a name="-on_prompt"><strong>on_prompt</strong></a>(data)</dt><dd><tt>This&nbsp;is&nbsp;the&nbsp;event&nbsp;the&nbsp;server&nbsp;listens&nbsp;to&nbsp;for&nbsp;getting&nbsp;the&nbsp;prompt&nbsp;from&nbsp;the&nbsp;prompter.&nbsp;It&nbsp;sends<br>
the&nbsp;prompt&nbsp;to&nbsp;the&nbsp;game_manager,&nbsp;who&nbsp;gets&nbsp;the&nbsp;results&nbsp;and&nbsp;returns&nbsp;3&nbsp;shuffled&nbsp;versions&nbsp;to<br>
display&nbsp;to&nbsp;the&nbsp;non-host&nbsp;clients.<br>
@param&nbsp;data&nbsp;-&nbsp;a&nbsp;dict&nbsp;in&nbsp;the&nbsp;form&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;key&gt;&nbsp;String(Unique)&nbsp;room:&nbsp;&lt;value&gt;&nbsp;String&nbsp;room,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;key&gt;&nbsp;String(Unique)&nbsp;query:&nbsp;&lt;value&gt;&nbsp;String&nbsp;str_to_query<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp;<br>
@return&nbsp;-&nbsp;emits&nbsp;the&nbsp;player&nbsp;key&nbsp;answer&nbsp;value&nbsp;dict&nbsp;of&nbsp;scrambled&nbsp;orders&nbsp;back&nbsp;to&nbsp;the&nbsp;client.</tt></dd></dl>
 <dl><dt><a name="-on_submit"><strong>on_submit</strong></a>(data)</dt><dd><tt>This&nbsp;is&nbsp;the&nbsp;event&nbsp;the&nbsp;server&nbsp;listens&nbsp;to&nbsp;for&nbsp;getting&nbsp;an&nbsp;answer&nbsp;from&nbsp;one&nbsp;of&nbsp;the&nbsp;players.&nbsp;It&nbsp;sends&nbsp;the<br>
answer&nbsp;to&nbsp;the&nbsp;game&nbsp;manager,&nbsp;who&nbsp;adds&nbsp;the&nbsp;answers&nbsp;to&nbsp;its&nbsp;list.&nbsp;It&nbsp;then&nbsp;checks&nbsp;if&nbsp;all&nbsp;answers<br>
have&nbsp;been&nbsp;submitted,&nbsp;and&nbsp;if&nbsp;so,&nbsp;asks&nbsp;the&nbsp;game&nbsp;for&nbsp;the&nbsp;full&nbsp;score.<br>
@param&nbsp;data&nbsp;-&nbsp;Dict&nbsp;with&nbsp;a&nbsp;room&nbsp;field,&nbsp;with&nbsp;a&nbsp;string&nbsp;of&nbsp;room&nbsp;name,&nbsp;and&nbsp;an&nbsp;answer&nbsp;field,&nbsp;a&nbsp;dict&nbsp;with&nbsp;a&nbsp;key&nbsp;of&nbsp;the&nbsp;username&nbsp;and&nbsp;value&nbsp;of&nbsp;their&nbsp;answer&nbsp;order.<br>
@return&nbsp;-&nbsp;Emits&nbsp;a&nbsp;waiting&nbsp;message&nbsp;if&nbsp;this&nbsp;is&nbsp;not&nbsp;the&nbsp;final&nbsp;answer,&nbsp;or&nbsp;emits&nbsp;the&nbsp;a&nbsp;dict&nbsp;with&nbsp;a&nbsp;key&nbsp;for&nbsp;each&nbsp;username&nbsp;containing&nbsp;each&nbsp;person's&nbsp;scores.</tt></dd></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>MAX_PLAYERS</strong> = 4<br>
<strong>app</strong> = &lt;Flask 'lobby'&gt;<br>
<strong>game_rooms</strong> = {}<br>
<strong>lobby_names</strong> = ['Dwarf', 'Bree', 'Dale', 'Dr√∫edain', 'Dunlendings', 'Easterling', 'Haradrim', 'Hobbit', 'Maiar', 'Orc', 'Quenya', 'Rohirrim', 'Sindarin']<br>
<strong>request</strong> = &lt;LocalProxy unbound&gt;<br>
<strong>session</strong> = &lt;LocalProxy unbound&gt;<br>
<strong>socketio</strong> = &lt;flask_socketio.SocketIO object&gt;</td></tr></table>
</body></html>